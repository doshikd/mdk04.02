Руководство пользователя на программное обеспечение: BorgBackup (Borg)

1. Область применения

Настоящее руководство предназначено для системных администраторов и пользователей, осуществляющих резервное копирование и восстановление данных на сервере с использованием программного обеспечения BorgBackup в операционной системе Ubuntu Linux.

2. Назначение

BorgBackup — это инструмент командной строки для создания резервных копий данных с функцией сжатия и шифрования. Поддерживает локальные и удалённые бэкапы через SSH.

3. Технические требования

3.1 Аппаратные
	•	Оперативная память: от 512 МБ
	•	Место на диске: зависит от объёма резервируемых данных
	•	Доступ к локальному или удалённому хранилищу

3.2 Программные
	•	Операционная система: Ubuntu 20.04/22.04 и новее
	•	Установленное ПО: borgbackup

4. Установка

sudo apt update
sudo apt install borgbackup -y

5. Основные команды

5.1 Инициализация репозитория
borg init --encryption=repokey /путь/к/резервному/репозиторию

5.2 Создание резервной копии
borg create /путь/к/репозиторию::имя_архива /путь/к/каталогу

5.3 Просмотр списка архивов
borg list /путь/к/репозиторию

5.4 Проверка архива
borg check /путь/к/репозиторию

5.5 Восстановление данных
borg extract /путь/к/репозиторию::имя_архива

6. Резервное копирование по SSH
borg init --encryption=repokey user@remote:/backup
borg create user@remote:/backup::archive-name /data

7. Ротация (удаление старых копий)
borg prune -v --keep-daily=7 --keep-weekly=4 --keep-monthly=6 /путь/к/репозиторию

8. Безопасность
	•	Все данные зашифрованы по умолчанию (AES-256).
	•	Доступ к архивам возможен только при наличии ключа.
	•	Для удалённых подключений используется защищённый протокол SSH.
	•	Настоятельно рекомендуется регулярно копировать файл ключа (key file), который создаётся при borg init.
